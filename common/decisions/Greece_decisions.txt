###########################
# Greece Decisions
###########################
# By Rylock
###########################

political_actions = {
	GRE_join_internationale = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = GRE
		}

		available = {
			is_subject = no
		}

		visible = {
			is_in_faction = no
		}

		target_root_trigger = { has_socialist_government = yes }

		targets = { INT }

		target_trigger = {
			FROM = {
				is_faction_leader = yes
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				FROM = {
					has_socialist_government = yes
					is_faction_leader = yes
					has_war = yes
					surrender_progress > 0.20
				}
			}
			modifier = {
				factor = 0
				has_government = radical_socialist
				NOT = {
					any_enemy_country = { has_war_with = FROM }
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_join_internationale target: [From.GetName]"
			FROM = { country_event = gre.14 }
		}
	}
}
###Ship_building
naval_decisions = {
	GRE_shipbuilding_program_1 = {
		icon = generic_naval

		allowed = {
			original_tag = GRE
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = GRE_no_black_monday_effect
				NOT = {
					has_idea = GRE_black_monday_1
					has_idea = GRE_black_monday_2
					has_idea = GRE_black_monday_3
				}
			}
			47 = { is_owned_and_controlled_by = GRE }
		}

		visible = {
			has_completed_focus = GRE_purchase_ships
		}

		cancel_trigger = {
			NOT = { controls_state = 47 }
		}

		fire_only_once = yes
		days_remove = 90
		cost = 100

		modifier = {
			industrial_capacity_dockyard = -0.90
			consumer_goods_factor = 0.10
			political_power_cost = 0.20
		}

		ai_will_do = {
			factor = 40
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_shipbuilding_program_1"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_shipbuilding_program_1"
			set_country_flag = GRE_ships_done_1
			unlock_decision_tooltip = GRE_deploy_new_ships
		}
	}

	GRE_shipbuilding_program_2 = {
		icon = generic_naval

		allowed = {
			original_tag = GRE
		}

		available = {
			47 = { is_owned_and_controlled_by = GRE }
		}

		visible = {
			has_completed_focus = GRE_purchase_ships
			has_country_flag = GRE_ships_done_1
		}

		cancel_trigger = {
			NOT = { controls_state = 47 }
		}

		fire_only_once = yes
		days_remove = 120
		cost = 100

		modifier = {
			industrial_capacity_dockyard = -0.90
			consumer_goods_factor = 0.10
			political_power_cost = 0.20
		}

		ai_will_do = {
			factor = 40
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_shipbuilding_program_2"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_shipbuilding_program_2"
			set_country_flag = GRE_ships_done_2
			unlock_decision_tooltip = GRE_deploy_new_ships
		}
	}

	GRE_shipbuilding_program_3 = {
		icon = generic_naval

		allowed = {
			original_tag = GRE
		}

		available = {
			47 = { is_owned_and_controlled_by = GRE }
		}

		visible = {
			has_completed_focus = GRE_purchase_ships
			has_country_flag = GRE_ships_done_2
		}

		cancel_trigger = {
			NOT = { controls_state = 47 }
		}

		fire_only_once = yes
		days_remove = 120
		cost = 150

		modifier = {
			industrial_capacity_dockyard = -0.90
			consumer_goods_factor = 0.10
			political_power_cost = 0.20
		}

		ai_will_do = {
			factor = 40
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_shipbuilding_program_3"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_shipbuilding_program_3"
			set_country_flag = GRE_ships_done_3
			unlock_decision_tooltip = GRE_deploy_new_ships
		}
	}

	GRE_deploy_new_ships = {
		icon = generic_naval

		allowed = {
			original_tag = GRE
		}

		available = {
			47 = { is_owned_and_controlled_by = GRE }
			has_manpower > 5000
		}

		visible = {
			OR = {
				AND = {
					has_country_flag = GRE_ships_done_1
					NOT = { has_country_flag = GRE_ships_deployed_1 }
				}
				AND = {
					has_country_flag = GRE_ships_done_2
					NOT = { has_country_flag = GRE_ships_deployed_2 }
				}
				AND = {
					has_country_flag = GRE_ships_done_3
					NOT = { has_country_flag = GRE_ships_deployed_3 }
				}
			}
		}

		fire_only_once = no
		cost = 0

		ai_will_do = {
			factor = 40
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_deploy_new_ships"
			if = {
				limit = {
					has_country_flag = GRE_ships_done_1
					NOT = { has_country_flag = GRE_ships_deployed_1 }
				}
				set_country_flag = GRE_ships_deployed_1
				custom_effect_tooltip = GRE_ten_destroyers
				hidden_effect = { load_oob = "GRE_ships_2" }
			}
			if = {
				limit = {
					has_country_flag = GRE_ships_done_2
					NOT = { has_country_flag = GRE_ships_deployed_2 }
				}
				set_country_flag = GRE_ships_deployed_2
				custom_effect_tooltip = GRE_four_cruisers
				hidden_effect = { load_oob = "GRE_ships_3" }
			}
			if = {
				limit = {
					has_country_flag = GRE_ships_done_3
					NOT = { has_country_flag = GRE_ships_deployed_3 }
				}
				set_country_flag = GRE_ships_deployed_3

				custom_effect_tooltip = GRE_gets_battleship
				hidden_effect = {
					load_oob = "GRE_ships_5"
				}
			}
		}
	}
}

